<mxfile host="app.diagrams.net" modified="2024-07-11T07:23:50.659Z" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36" etag="NTrRNuLbX9wroPFL_Cw7" version="24.6.4" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="679" dy="1391" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WFfvslT1npfCpkci80M0-1" value="" style="shape=ext;double=1;rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1720" y="330" width="2660" height="1470" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-2" value="`" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=150;tabHeight=20;tabPosition=left;html=1;whiteSpace=wrap;fillColor=#522936;strokeColor=#6F0000;fontColor=#ffffff;fillStyle=solid;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1787.5" y="527.18" width="540" height="1170" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-3" value="&lt;font style=&quot;font-size: 11px;&quot;&gt;Data Layer&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1729.2452830188668" y="503" width="207.69622641509434" height="68.35133333333334" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-4" value="" style="group;" connectable="0" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2350" y="510.33000000000015" width="626" height="1350" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-5" value="" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=150;tabHeight=20;tabPosition=left;html=1;whiteSpace=wrap;fillColor=#4A5C44;strokeColor=#273b21;fontColor=#ffffff;fillStyle=solid;" vertex="1" parent="WFfvslT1npfCpkci80M0-4">
          <mxGeometry y="26.88" width="590" height="1173.12" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-6" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;Framework Discount Services&lt;/b&gt;" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=top;whiteSpace=wrap;html=1;" vertex="1" parent="WFfvslT1npfCpkci80M0-4">
          <mxGeometry x="5" y="129.68" width="580" height="1000.32" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-7" value="&lt;font style=&quot;font-size: 11px;&quot;&gt;Logic Layer&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" vertex="1" parent="WFfvslT1npfCpkci80M0-4">
          <mxGeometry x="-40.00461538461536" width="223.07692307692307" height="70.546875" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-284" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;PromotionService&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ createPromotion(CreatePromotionDTO): PromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ updatePromotion(Long, UpdatePromotionDTO): PromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ deletePromotion(Long): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getPromotionById(Long): PromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getAllPromotions(): List&amp;lt;PromotionResponseDTO&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getPromotionByCode(String): PromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ applyPromotionToBooking(BaseBookingRequestDTO, String): double&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ assignPromotionToUser(CreateUserPromotionDTO): UserPromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ updateAssignedPromotionToUser(Long, UpdateUserPromotionDTO): UserPromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ removePromotionFromUser(Long): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getUserPromotions(Long): List&amp;lt;UserPromotionResponseDTO&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getUserPromotionById(Long): UserPromotionResponseDTO&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WFfvslT1npfCpkci80M0-4">
          <mxGeometry x="40" y="169.67" width="530" height="270.33" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-285" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;abstract class&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;AbstractPromotionServiceImpl&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- promotionRepository: PromotionRepository&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- userPromotionRepository: UserPromotionRepository&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ AbstractPromotionServiceImpl(PromotionRepository, UserPromotionRepository)&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ createPromotion(CreatePromotionDTO): PromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ updatePromotion(Long, UpdatePromotionDTO): PromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ deletePromotion(Long): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getPromotionById(Long): PromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getAllPromotions(): List&amp;lt;PromotionResponseDTO&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getPromotionByCode(String): PromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ applyPromotionToBooking(BaseBookingRequestDTO, String): double&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ assignPromotionToUser(CreateUserPromotionDTO): UserPromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ updateAssignedPromotionToUser(Long, UpdateUserPromotionDTO): UserPromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ removePromotionFromUser(Long): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getUserPromotions(Long): List&amp;lt;UserPromotionResponseDTO&amp;gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ getUserPromotionById(Long): UserPromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- convertToPromotionDTO(Promotion): PromotionResponseDTO&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;- convertToUserPromotionDTO(UserPromotion): UserPromotionResponseDTO&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WFfvslT1npfCpkci80M0-4">
          <mxGeometry x="40" y="489.67" width="530" height="340.33" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-287" value="" style="endArrow=block;dashed=1;endFill=0;endSize=12;html=1;rounded=0;exitX=0.441;exitY=0.004;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.443;entryY=1.009;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WFfvslT1npfCpkci80M0-4" source="WFfvslT1npfCpkci80M0-285" target="WFfvslT1npfCpkci80M0-284">
          <mxGeometry width="160" relative="1" as="geometry">
            <mxPoint x="215" y="459.66999999999985" as="sourcePoint" />
            <mxPoint x="375" y="459.66999999999985" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-22" value="&lt;font style=&quot;font-size: 55px;&quot;&gt;Discount&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2555" y="359.9991891891891" width="990" height="94.5945945945946" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-180" value="" style="shape=folder;fontStyle=1;spacingTop=10;tabWidth=150;tabHeight=20;tabPosition=left;html=1;whiteSpace=wrap;fillColor=#7A3D00;strokeColor=#6D1F00;fontColor=#ffffff;fillStyle=solid;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2960" y="520.4284545454543" width="1360" height="1173.15" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-181" value="&lt;font style=&quot;font-size: 11px;&quot;&gt;Presentation Layer&lt;/font&gt;" style="text;strokeColor=none;fillColor=none;html=1;fontSize=24;fontStyle=1;verticalAlign=middle;align=center;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="2921" y="510.3284545454544" width="215.38" height="40.45454545454546" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-182" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 25px;&quot;&gt;Framework&amp;nbsp;&lt;/font&gt;&lt;/b&gt;&lt;b style=&quot;font-size: 25px;&quot;&gt;Discount&lt;/b&gt;&lt;b&gt;&lt;font style=&quot;font-size: 25px;&quot;&gt;&amp;nbsp;DTOs&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=top;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="3102" y="610" width="421" height="870" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-183" value="&lt;span style=&quot;font-size: 25px;&quot;&gt;&lt;b&gt;Discount Controllers&lt;/b&gt;&lt;/span&gt;" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=top;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="3670" y="1169.9984545454545" width="581" height="500.33" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-184" value="CreatePromotionDTO" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#647687;strokeColor=#314354;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="3227.5" y="666.78" width="170" height="110" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-185" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;- code: String&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;- description: String&lt;/div&gt;&lt;/div&gt;&lt;div&gt;-&amp;nbsp;discountPercentage: double&lt;/div&gt;&lt;div&gt;- starDate: LocalDate&lt;/div&gt;&lt;div&gt;- endDate:&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;LocalDate&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="WFfvslT1npfCpkci80M0-184">
          <mxGeometry y="26" width="170" height="84" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-186" value="CreateUserPromotionDTO" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#647687;strokeColor=#314354;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="3227.5" y="809.9984545454545" width="170" height="70" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-187" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;- userId: Long&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;- promotionId: Long&lt;/div&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="WFfvslT1npfCpkci80M0-186">
          <mxGeometry y="26" width="170" height="44" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-188" value="&lt;div style=&quot;line-height: 19px;&quot;&gt;&lt;span style=&quot;background-color: rgb(166, 128, 184);&quot;&gt;AbstractPromotionController&lt;/span&gt;&lt;br&gt;&lt;/div&gt;" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=40;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;direction=east;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="3805.5" y="1310" width="390" height="290.00141072891074" as="geometry">
            <mxRectangle x="879" y="343.2391130221131" width="230" height="60" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-189" value="#&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;font color=&quot;#0a0a0a&quot; face=&quot;Consolas, Courier New, monospace&quot;&gt;&lt;span style=&quot;font-size: 14px; white-space: pre;&quot;&gt;promotionService&lt;/span&gt;&lt;/font&gt;:&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;font-style: italic; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;PromotionService&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="WFfvslT1npfCpkci80M0-188">
          <mxGeometry y="40" width="390" height="38.486486486486484" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-190" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;strokeColor=inherit;" vertex="1" parent="WFfvslT1npfCpkci80M0-188">
          <mxGeometry y="78.48648648648648" width="390" height="12.304924242424242" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-191" value="+&amp;nbsp;&lt;span style=&quot;font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;&lt;font color=&quot;#0a0a0a&quot;&gt;createPromotion&lt;/font&gt;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-style: italic; font-family: Consolas, &amp;quot;Courier New&amp;quot;, monospace; font-size: 14px; white-space: pre; background-color: rgb(255, 255, 255);&quot;&gt;createPromotionDTO&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;updatePromotion(&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Long,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;UpdatePromotionDTO&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;deletePromotion(Long)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;getPromotionById(Long)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;getPromotionByCode(Sting)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;getAllPromotions&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;applyPromotionToBooking(&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;String,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;BaseBookingRequestDTO&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;assignPromotionToUser(&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;CreateUserPromotionDTO&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;updateAssignedPromotionToUser(Long,&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;UpdateUserPromotionDTO&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;removePromotionFromUser(Long)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;getUserPromotions(Long)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;getUserPromotionById(Long)&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="WFfvslT1npfCpkci80M0-188">
          <mxGeometry y="90.79141072891073" width="390" height="199.21" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-192" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="4650" y="2140" as="sourcePoint" />
            <mxPoint x="4650" y="1560" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-255" value="&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;&lt;b style=&quot;border-color: var(--border-color);&quot;&gt;Discount model&lt;/b&gt;&lt;br&gt;&lt;/b&gt;" style="shape=module;align=left;spacingLeft=20;align=center;verticalAlign=top;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1889.4300000000003" y="650" width="301.15" height="340" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-256" value="UserPromotion" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#647687;fontColor=#ffffff;strokeColor=#314354;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1960" y="840" width="170" height="90" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-257" value="- id: Long&#xa;- userId: Long&#xa;- promotion: Promotion&#xa;- isUsed: boolean" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="WFfvslT1npfCpkci80M0-256">
          <mxGeometry y="26" width="170" height="64" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-261" value="PromotionResponseDTO" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#647687;strokeColor=#314354;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="3227.5" y="920" width="170" height="130" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-262" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;- id: Long&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;div&gt;- code: String&lt;/div&gt;&lt;/div&gt;&lt;div&gt;- description: String&lt;/div&gt;&lt;div&gt;-&amp;nbsp;discountPercentage: double&lt;/div&gt;&lt;div&gt;- startDate: LocalDate&lt;/div&gt;&lt;div&gt;-&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;endDate: LocalDate&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="WFfvslT1npfCpkci80M0-261">
          <mxGeometry y="26" width="170" height="104" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-263" value="UpdatePromotionDTO" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#647687;strokeColor=#314354;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="3227.5" y="1080" width="170" height="110" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-264" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;- code: String&lt;/span&gt;&lt;/div&gt;&lt;div&gt;- description: String&lt;/div&gt;&lt;div&gt;-&amp;nbsp;discountPercentage: double&lt;/div&gt;&lt;div&gt;- startDate: LocalDate&lt;/div&gt;&lt;div&gt;-&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;endDate: LocalDate&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="WFfvslT1npfCpkci80M0-263">
          <mxGeometry y="26" width="170" height="84" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-265" value="UpdateUserPromotionDTO" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#647687;strokeColor=#314354;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="3227.5" y="1220" width="170" height="80" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-266" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;- userId: Long&lt;/span&gt;&lt;/div&gt;&lt;div&gt;- promotionId: Long&lt;/div&gt;&lt;div&gt;-&amp;nbsp;isUsed: boolean&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="WFfvslT1npfCpkci80M0-265">
          <mxGeometry y="26" width="170" height="54" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-267" value="UserPromotionResponseDTO" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;fillColor=#647687;strokeColor=#314354;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="3221.25" y="1330" width="182.5" height="100" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-268" value="&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;- id: Long&lt;/span&gt;&lt;/div&gt;&lt;div&gt;- userId: Long&lt;/div&gt;&lt;div&gt;-&amp;nbsp;promotionId:&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;Long&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;- isUsed: boolean&lt;/span&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="WFfvslT1npfCpkci80M0-267">
          <mxGeometry y="26" width="182.5" height="74" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-269" value="Promotion" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#647687;fontColor=#ffffff;strokeColor=#314354;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1960" y="690" width="170" height="120" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-270" value="- id: Long&#xa;- promoCode: String&#xa;- description: String&#xa;- discountPercentage: double&#xa;- startDate: LocalDate&#xa;- endDate: LocalDate" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" vertex="1" parent="WFfvslT1npfCpkci80M0-269">
          <mxGeometry y="26" width="170" height="94" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-271" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1839.92" y="1034.78" width="423.82" height="605.22" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-272" value="&lt;b&gt;Discount repository&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1976.83" y="1034.78" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-275" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;JpaRepository&amp;lt;T, ID&amp;gt;&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ flush(): void&lt;br&gt;+ deleteInBatch(Iterable&amp;lt;T&amp;gt;): void&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+&amp;nbsp;&lt;span style=&quot;background-color: initial;&quot;&gt;deleteAllInBatch&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;(Iterable&amp;lt;T&amp;gt;): void&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;deleteAllByIdInBatch&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;(Iterable&amp;lt;ID&amp;gt;): void&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;deleteAllInBatch(): void&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+ getById(ID): T&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;+&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;getReferenceById: T&lt;/span&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1933.08" y="1072.82" width="237.5" height="150" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-276" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;PromotionRepository&lt;/b&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ findByPromoCode(String): Optional&amp;lt;Promotion&amp;gt;&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1860" y="1302.47" width="283.09" height="69.84" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-277" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.471;entryY=1.009;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WFfvslT1npfCpkci80M0-276" target="WFfvslT1npfCpkci80M0-275">
          <mxGeometry x="0.2382" width="160" relative="1" as="geometry">
            <mxPoint x="1997" y="1310" as="sourcePoint" />
            <mxPoint x="2093.91" y="1310.5266847826085" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-281" value="&lt;p style=&quot;margin:0px;margin-top:4px;text-align:center;&quot;&gt;&lt;i&gt;&amp;lt;&amp;lt;Interface&amp;gt;&amp;gt;&lt;/i&gt;&lt;br&gt;&lt;b&gt;UserPromotionRepository&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;hr size=&quot;1&quot; style=&quot;border-style:solid;&quot;&gt;&lt;p style=&quot;margin:0px;margin-left:4px;&quot;&gt;+ findByUserId(Long): Long&lt;br&gt;&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;html=1;whiteSpace=wrap;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1970" y="1470.3200000000002" width="283.09" height="69.84" as="geometry" />
        </mxCell>
        <mxCell id="WFfvslT1npfCpkci80M0-283" value="Extends" style="endArrow=block;endSize=16;endFill=0;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.871;entryY=0.981;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" target="WFfvslT1npfCpkci80M0-275">
          <mxGeometry x="0.2382" width="160" relative="1" as="geometry">
            <mxPoint x="2190.58" y="1470.32" as="sourcePoint" />
            <mxPoint x="2233.58" y="1392.32" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
